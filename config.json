{
  "_comment": "Meteor v2 Configuration - Privacy-focused Comet browser enhancement system",
  "comet": {
    "download_url": "https://www.perplexity.ai/rest/browser/download?platform=win_x64&channel=stable",
    "install_path": "",
    "auto_update": true,
    "portable": true,
    "fallback_version": "143.1.7499.35382",
    "_comment_portable": "When portable=true, browser is extracted directly (no installer) and user data is stored in DataPath",
    "_comment_fallback": "fallback_version used for extension update checks before browser is installed"
  },
  "browser": {
    "flags": [
      "--skip-onboarding-for-testing",
      "--disable-field-trial-config",
      "--test-type",
      "--enable-experimental-extension-apis",
      "--show-component-extension-options",
      "--perplexity-enable-bundle-extension-unpacked-loading",
      "--enable-local-mcp",
      "--enable-local-custom-mcp",
      "--enable-dxt"
    ],
    "flag_switches": [
      "--extensions-on-chrome-urls",
      "--extensions-on-extension-urls"
    ],
    "enable_features": [
      "WebTransportDeveloperMode",
      "ExtensionsOnChromeURLs",
      "ExtensionsOnExtensionURLs",
      "ExtensionPermissionOmniboxDirectInput",
      "AllowLegacyMV2Extensions",
      "DirectSocketsInServiceWorkers",
      "DirectSocketsInSharedWorkers",
      "IsolatedWebApps",
      "IsolatedWebAppDevMode",
      "MulticastInDirectSockets",
      "ReadAnythingWithReadability",
      "DevToolsIndividualRequestThrottling",
      "DevToolsLiveEdit",
      "DevToolsPrivacyUI",
      "DevToolsStartingStyleDebugging",
      "EnableDevtoolsDeepLinkViaExtensibilityApi",
      "EnableGamepadMultitouch",
      "EnableWindowsGamingInputDataFetcher",
      "ExperimentalOmniboxLabs",
      "ExperimentalWebPlatformFeatures",
      "LocationProviderManager",
      "ParallelDownloading",
      "UiaProvider",
      "UIDebugTools",
      "WebRtcHideLocalIpsWithMdns"
    ],
    "disable_features": [
      "ExtensionManifestV2DeprecationWarning",
      "ExtensionManifestV2Disabled",
      "ExtensionManifestV2Unsupported",
      "SharedDataTypesKillSwitch",
      "ActorFormFillingServiceEnableAddress",
      "ActorFormFillingServiceEnableCreditCard",
      "AiModeOmniboxEntryPoint",
      "AimServerEligibilityEnabled",
      "AllowAiModeMatches",
      "AutoPictureInPictureForVideoPlayback",
      "AutofillCreditCardUpload",
      "AutofillEnableAiBasedAmountExtraction",
      "AutofillEnableAllowlistForBmoCardCategoryBenefits",
      "AutofillEnableAmountExtraction",
      "AutofillEnableBuyNowPayLater",
      "AutofillEnableBuyNowPayLaterForExternallyLinked",
      "AutofillEnableBuyNowPayLaterForKlarna",
      "AutofillEnableBuyNowPayLaterSyncing",
      "AutofillEnableBuyNowPayLaterUpdatedSuggestionSecondLineString",
      "AutofillEnableCardBenefitsForAmericanExpress",
      "AutofillEnableCardBenefitsForBmo",
      "AutofillEnableCardBenefitsIph",
      "AutofillEnableCardInfoRuntimeRetrieval",
      "AutofillEnableDownstreamCardAwarenessIph",
      "AutofillEnableFlatRateCardBenefitsFromCurinos",
      "AutofillEnableLoyaltyCardsFilling",
      "AutofillEnableMultipleRequestInVirtualCardDownstreamEnrollment",
      "AutofillEnablePrefetchingRiskDataForRetrieval",
      "AutofillEnableSupportForHomeAndWork",
      "AutofillEnableSupportForNameAndEmailProfile",
      "AutofillEnableVcn3dsAuthentication",
      "AutofillPreferBuyNowPayLaterBlocklists",
      "AutofillUpstream",
      "AvatarButtonSyncPromo",
      "BookmarkTriggerForPrefetch",
      "BrowserInitiatedAutomaticPictureInPicture",
      "BrowsingHistoryActorIntegrationM1",
      "ChromeWebStoreNavigationThrottle",
      "CollaborationSharedTabGroupAccountData",
      "ComposeSelectionNudge",
      "ContextualCueing",
      "ContextualSearchBoxUsesContextualSearchProvider",
      "ContextualSearchOpenLensActionUsesThumbnail",
      "ContextualTasks",
      "ContextualTasksContext",
      "CWSInfoFastCheck",
      "DataSharing",
      "DataSharingJoinOnly",
      "DataSharingNonProductionEnvironment",
      "DiscountAutofill",
      "DsePreload2",
      "DsePreload2OnPress",
      "EnableCrossDevicePrefTracker",
      "EnableNtpBrowserPromos",
      "EnableOidcProfileRemoteCommands",
      "EnforceManagementDisclaimer",
      "ExtensionDisableUnsupportedDeveloper",
      "FeedbackIncludeVariations",
      "Glic",
      "GlicActor",
      "GlicActorAutofill",
      "GlicBindPinnedUnboundTab",
      "GlicButtonPressedState",
      "GlicCaptureRegion",
      "GlicDaisyChainNewTabs",
      "GlicDefaultToLastActiveConversation",
      "GlicDetached",
      "GlicEntrypointVariations",
      "GlicFreWarming",
      "GlicPanelResetOnSessionTimeout",
      "GlicPanelResetOnStart",
      "GlicPanelResetSizeAndLocationOnOpen",
      "GlicPanelResetTopChromeButton",
      "GlicPanelSetPositionOnDrag",
      "GlicSidePanel",
      "GlicWarming",
      "GlicZOrderChanges",
      "GroupSuggestionService",
      "IPH_AutofillCreditCardBenefit",
      "IPH_DemoMode",
      "ImprovedPasswordChangeService",
      "IpProtectionProxyOptOut",
      "LensAimSuggestions",
      "LensAimSuggestionsGradientBackground",
      "LensOverlay",
      "LensOverlayEduActionChip",
      "LensOverlayEntrypointLabelAlt",
      "LensOverlayForceEmptyCsbQuery",
      "LensOverlayNonBlockingPrivacyNotice",
      "LensOverlayOmniboxEntryPoint",
      "LensOverlayOptimizationFilter",
      "LensOverlayPermissionBubbleAlt",
      "LensOverlayStraightToSrp",
      "LensOverlayTextSelectionContextMenuEntrypoint",
      "LensSearchReinvocationAffordance",
      "LensSearchZeroStateCsb",
      "LensUpdatedFeedbackEntrypoint",
      "LensVideoCitations",
      "LinkPreview",
      "LogUrlScoringSignals",
      "MarkAllCredentialsAsLeaked",
      "MerchantTrust",
      "MobilePromoOnDesktop",
      "NTPEnterpriseShortcuts",
      "NtpCalendarModule",
      "NtpComposebox",
      "NtpCustomizeChromeAutoOpen",
      "NtpMicrosoftAuthenticationModule",
      "NtpModuleSignInRequirement",
      "NtpNextFeatures",
      "NtpOneGoogleBarAsyncBarParts",
      "NtpOutlookCalendarModule",
      "NtpRealboxNext",
      "NtpSearchboxComposeEntrypoint",
      "NtpSharepointModule",
      "OfferMigrationToDiceUsers",
      "OmniboxContextualSearchOnFocusSuggestions",
      "OmniboxContextualSuggestions",
      "OmniboxEnterpriseSearchAggregator",
      "OmniboxFocusTriggersWebAndSrpZeroSuggest",
      "OmniboxMiaZPS",
      "OmniboxOnDeviceHeadProviderIncognito",
      "OmniboxSearchClientPrefetch",
      "OmniboxToolbelt",
      "OmniboxZeroSuggestPrefetching",
      "OmniboxZeroSuggestPrefetchingOnSRP",
      "OmniboxZeroSuggestPrefetchingOnWeb",
      "OptimizationGuideDogfoodLogging",
      "PageContentAnnotationsRemotePageMetadata",
      "PdfSaveToDrive",
      "PermissionsAIP92",
      "PermissionsAIv3",
      "PermissionsAIv4",
      "PerplexityAutoupdate",
      "PrivacyPolicyInsights",
      "ProductSpecifications",
      "ProfileCreationDeclineSigninCTAExperiment",
      "ProfileSignalsReportingEnabled",
      "RcapsDynamicProfileCountry",
      "ReadAnythingDocsIntegration",
      "ReadAnythingDocsLoadMoreButton",
      "ReadPrinterCapabilitiesWithXps",
      "ReplaceSyncPromosWithSignInPromos",
      "SafetyHubDisruptiveNotificationRevocation",
      "SafetyHubUnusedPermissionRevocationForAllSurfaces",
      "SearchNavigationPrefetch",
      "SearchPrefetchServicePrefetching",
      "ShoppingAlternateServer",
      "ShowProfilePickerToAllUsersExperiment",
      "SyncAutofillLoyaltyCard",
      "SyncAutofillWalletCredentialData",
      "TextSafetyClassifier",
      "VideoPictureInPictureControlsUpdate2024",
      "WebAppMigratePreinstalledChat",
      "WebAuthenticationPasskeyUpgrade",
      "WebUIOmniboxAimPopup"
    ]
  },
  "extensions": {
    "update_url": "https://www.perplexity.ai/rest/browser/update-crx?channel=stable",
    "fetch_from_server": true,
    "bundled": {
      "perplexity": {
        "id": "mcjlamohcooanphmebaiigheeeoplihb",
        "name": "Perplexity",
        "fallback_version": "1.0.64"
      },
      "comet_web_resources": {
        "id": "mjdcklhepheaaemphcopihnmjlmjpcnh",
        "name": "Comet Web Resources",
        "fallback_version": "2025.12.19.1204"
      },
      "agents": {
        "id": "npclhjbddhklpbnacpjloidibaggcgon",
        "name": "Agents",
        "fallback_version": "0.0.165"
      }
    },
    "patch_config": {
      "perplexity": {
        "manifest_additions": {
          "declarative_net_request": {
            "rule_resources": [
              {
                "id": "meteor_telemetry",
                "enabled": true,
                "path": "rules/telemetry.json"
              }
            ]
          },
          "content_scripts": [
            {
              "matches": [
                "https://www.perplexity.ai/*",
                "https://perplexity.ai/*"
              ],
              "js": [
                "content/content-script.js"
              ],
              "run_at": "document_start",
              "world": "MAIN",
              "all_frames": true
            }
          ]
        },
        "service_worker_import": "meteor-prefs.js",
        "copy_files": {
          "meteor-prefs.js": "perplexity/meteor-prefs.js",
          "rules/telemetry.json": "perplexity/telemetry.json",
          "content/content-script.js": "perplexity/content-script.js"
        }
      }
    }
  },
  "pak_modifications": {
    "enabled": true,
    "modifications": [
      {
        "pattern": "!isPerplexityInternalUser",
        "replacement": " isPerplexityInternalUser",
        "description": "Flip internal user check to show Perplexity service workers in chrome://inspect for non-internal users"
      }
    ]
  },
  "ublock": {
    "enabled": true,
    "extension_id": "cjpalhdlnbpafiamejdnhcphjbkeiagm",
    "defaults": {
      "userSettings": {
        "advancedUserEnabled": true,
        "externalLists": "https://filters.adtidy.org/extension/ublock/filters/3.txt\nhttps://gitflic.ru/project/magnolia1234/bypass-paywalls-clean-filters/blob/raw?file=bpc-paywall-filter.txt\nhttps://malware-filter.gitlab.io/pup-filter/pup-filter.txt\nhttps://raw.githubusercontent.com/DandelionSprout/adfilt/master/BrowseWebsitesWithoutLoggingIn.txt\nhttps://raw.githubusercontent.com/DandelionSprout/adfilt/master/ClearURLs%20for%20uBo/clear_urls_uboified.txt\nhttps://raw.githubusercontent.com/DandelionSprout/adfilt/master/LegitimateURLShortener.txt\nhttps://raw.githubusercontent.com/liamengland1/miscfilters/master/antipaywall.txt",
        "importedLists": [
          "https://filters.adtidy.org/extension/ublock/filters/3.txt",
          "https://gitflic.ru/project/magnolia1234/bypass-paywalls-clean-filters/blob/raw?file=bpc-paywall-filter.txt",
          "https://malware-filter.gitlab.io/pup-filter/pup-filter.txt",
          "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/BrowseWebsitesWithoutLoggingIn.txt",
          "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/ClearURLs%20for%20uBo/clear_urls_uboified.txt",
          "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/LegitimateURLShortener.txt",
          "https://raw.githubusercontent.com/liamengland1/miscfilters/master/antipaywall.txt"
        ],
        "popupPanelSections": 63,
        "suspendUntilListsAreLoaded": true,
        "userFiltersTrusted": true
      },
      "selectedFilterLists": [
        "user-filters",
        "ublock-filters",
        "ublock-badware",
        "ublock-privacy",
        "ublock-quick-fixes",
        "ublock-unbreak",
        "ublock-experimental",
        "easylist",
        "adguard-generic",
        "adguard-mobile",
        "easyprivacy",
        "adguard-spyware-url",
        "urlhaus-1",
        "curben-phishing",
        "plowe-0",
        "dpollock-0",
        "fanboy-cookiemonster",
        "ublock-cookies-easylist",
        "adguard-cookies",
        "ublock-cookies-adguard",
        "fanboy-social",
        "adguard-social",
        "fanboy-thirdparty_social",
        "fanboy-ai-suggestions",
        "easylist-chat",
        "easylist-newsletters",
        "easylist-notifications",
        "easylist-annoyances",
        "adguard-mobile-app-banners",
        "adguard-other-annoyances",
        "adguard-popup-overlays",
        "adguard-widgets",
        "ublock-annoyances",
        "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/LegitimateURLShortener.txt",
        "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/BrowseWebsitesWithoutLoggingIn.txt",
        "https://filters.adtidy.org/extension/ublock/filters/3.txt",
        "https://raw.githubusercontent.com/liamengland1/miscfilters/master/antipaywall.txt",
        "https://gitflic.ru/project/magnolia1234/bypass-paywalls-clean-filters/blob/raw?file=bpc-paywall-filter.txt",
        "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/ClearURLs%20for%20uBo/clear_urls_uboified.txt",
        "https://malware-filter.gitlab.io/pup-filter/pup-filter.txt"
      ],
      "whitelist": [],
      "dynamicFilteringString": "behind-the-scene * * noop\nbehind-the-scene * inline-script noop\nbehind-the-scene * 1p-script noop\nbehind-the-scene * 3p-script noop\nbehind-the-scene * 3p-frame noop\nbehind-the-scene * image noop\nbehind-the-scene * 3p noop",
      "hostnameSwitchesString": "no-large-media: behind-the-scene false\nno-csp-reports: * true",
      "urlFilteringString": "extensions.chrome-scheme https://m.stripe.com xmlhttprequest block\nnewtab.chrome-scheme https://m.stripe.com xmlhttprequest block\nnewtab.chrome-scheme https://m.stripe.com/6 xmlhttprequest block\nnewtab.chrome-scheme https://m.stripe.network sub_frame block\nnewtab.chrome-scheme https://m.stripe.network/inner.html sub_frame block\nwww.perplexity.ai https://m.stripe.com xmlhttprequest block\nwww.perplexity.ai https://m.stripe.com/6 xmlhttprequest block\nwww.perplexity.ai https://m.stripe.network sub_frame block\nwww.perplexity.ai https://m.stripe.network/inner.html sub_frame block",
      "userFilters": "! ====== METEOR TELEMETRY BLOCKING ======\n! DataDog RUM (Real User Monitoring)\n||browser-intake-datadoghq.com^$all\n! Singular Analytics API (SDK loads but can't send data)\n||sdk-api-v1.singular.net^$all\n! Eppo Feature Flags\n||fscdn.eppo.cloud^$all\n||fs-edge-assignment.eppo.cloud^$all\n! Perplexity Internal Telemetry\n||irontail.perplexity.ai^$all\n||perplexity.ai/rest/event/analytics$all\n||perplexity.ai/cdn-cgi/trace$all\n||perplexity.ai/rest/attribution$xmlhttprequest\n||perplexity.ai/rest/homepage-widgets/upsell/interacted$xmlhttprequest\n||perplexity.ai/rest/ntp/upsell/interacted$xmlhttprequest\n||perplexity.ai/rest/autosuggest/track-query-clicked$xmlhttprequest\n||perplexity.ai/rest/live-events/subscription$xmlhttprequest\n||perplexity.ai/pixel/$script,domain=www.perplexity.ai|perplexity.ai|newtab.chrome-scheme\n! Cloudflare Analytics\n||cloudflareinsights.com^$all\n||perplexity.ai/cdn-cgi/rum$xmlhttprequest\n! Intercom\n||perplexity.ai/api/intercom$xmlhttprequest\n! Mixpanel\n||api.mixpanel.com^$all\n! Sentry\n||*.ingest.sentry.io^$all\n||*.ingest.us.sentry.io^$all\n! Merge.dev\n||ah-cdn.merge.dev/$subdocument,domain=www.perplexity.ai|perplexity.ai|newtab.chrome-scheme\n||ah-cdn.merge.dev/$script,domain=www.perplexity.ai|perplexity.ai|newtab.chrome-scheme\n! ====== STRIPE (Perplexity-specific) ======\n||js.stripe.com/v3/$subdocument,domain=www.perplexity.ai|perplexity.ai|newtab.chrome-scheme\n||js.stripe.com/v3/$script,domain=www.perplexity.ai|perplexity.ai|newtab.chrome-scheme\n||m.stripe.com$xmlhttprequest,domain=www.perplexity.ai|perplexity.ai|newtab.chrome-scheme\n||m.stripe.network$sub_frame,domain=www.perplexity.ai|perplexity.ai|newtab.chrome-scheme\n! ====== COSMETIC FILTERS ======\n! Hide \"0 ads and trackers blocked\" button on new tab and Perplexity pages\nnewtab.chrome-scheme,www.perplexity.ai,perplexity.ai##button:has-text(/^0 ads and trackers blocked$/)"
    }
  },
  "adguard_extra": {
    "enabled": true,
    "extension_id": "gkeojjjcdcopjkbelgbcpckplegclfeg"
  },
  "paths": {
    "patched_extensions": "./.meteor/patched_extensions",
    "ublock": "./.meteor/patched_extensions/ublock-origin",
    "adguard_extra": "./.meteor/patched_extensions/adguard-extra",
    "patched_resources": "./.meteor/patched_resources",
    "state_file": "./.meteor/state.json",
    "patches": "./patches"
  }
}
