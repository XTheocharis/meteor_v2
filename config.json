{
  "_comment": "Meteor v2 Configuration - Privacy-focused Comet browser enhancement system",
  "comet": {
    "download_url": "https://www.perplexity.ai/rest/browser/download?platform=win_x64&channel=stable",
    "install_path": "",
    "auto_update": true
  },
  "browser": {
    "profile": "Default",
    "flags": [
      "--homepage=https://www.perplexity.ai/b/home",
      "--no-pings",
      "--no-first-run",
      "--no-default-browser-check",
      "--skip-onboarding-for-testing",
      "--disable-domain-reliability",
      "--disable-client-side-phishing-detection",
      "--disable-search-engine-choice-screen",
      "--disable-infobars",
      "--disable-quic",
      "--ip-protection-proxy-opt-out",
      "--propagate-iph-for-testing",
      "--perplexity-enable-bundle-extension-unpacked-loading",
      "--enable-experimental-extension-apis",
      "--extensions-on-chrome-urls",
      "--extensions-on-extension-urls",
      "--webtransport-developer-mode",
      "--test-type",
      "--show-component-extension-options",
      "--disable-component-update",
      "--disable-background-mode",
      "--disable-field-trial-config"
    ],
    "enable_features": [
      "ExtensionsOnChromeURLs",
      "ExtensionsOnExtensionURLs",
      "AllowLegacyMV2Extensions",
      "webrtc-hide-local-ips-with-mdns",
      "DirectSocketsInServiceWorkers",
      "DirectSocketsInSharedWorkers",
      "IsolatedWebApps",
      "IsolatedWebAppDevMode",
      "MulticastInDirectSockets",
      "ReadAnythingWithReadability"
    ],
    "disable_features": [
      "ExtensionManifestV2DeprecationWarning",
      "ExtensionManifestV2Disabled",
      "ExtensionManifestV2Unsupported",
      "ExtensionDisableUnsupportedDeveloper",
      "PromptApiForGeminiNanoMultimodalInput",
      "OptimizationGuideOnDeviceModel",
      "TextSafetyClassifier",
      "ComposeboxUsesChromeComposeClient",
      "NtpComposeEntrypoint",
      "NtpComposebox",
      "TranslationApi",
      "ContextualCueing",
      "PermissionsAiV3",
      "PermissionsAiV4",
      "PermissionsAiP92",
      "Glic",
      "GlicActor",
      "GlicActorAutofill",
      "BrowsingHistoryActorIntegrationM1",
      "GlicCaptureRegion",
      "GlicPreWarming",
      "GlicFrePreWarming",
      "GlicBindPinnedUnboundTab",
      "GlicSidePanel",
      "ContextualSearchOpenLensActionUsesThumbnail",
      "LensAimSuggestions",
      "LensVideoCitations",
      "LensSearchZeroStateCsb",
      "LensReinvocationAffordance",
      "LensUpdatedFeedbackEntrypoint",
      "ZeroSuggestPrefetching",
      "ZeroSuggestPrefetchingOnSRP",
      "ZeroSuggestPrefetchingOnWeb",
      "LogUrlScoringSignals",
      "ContextualSearchBoxUsesContextualSearchProvider",
      "OmniboxContextualSearchOnFocusSuggestions",
      "OmniboxContextualSuggestions",
      "OmniboxFocusTriggersWebAndSrpZeroSuggest",
      "OmniboxOnDeviceHeadSuggestions",
      "OmniboxEnterpriseSearchAggregator",
      "OrganicRepeatableQueries",
      "MlUrlScoreCaching",
      "MlUrlScoring",
      "UrlScoringModel",
      "DefaultSearchEnginePrewarm",
      "DsePreload2",
      "DsePreload2OnPress",
      "BookmarkTriggerForPrefetch",
      "NewTabPageTriggerForPrefetch",
      "Prewarm",
      "AutofillEnableCreditCardUpload",
      "AutofillEnableAiBasedAmountExtraction",
      "AutofillEnableCardInfoRuntimeRetrieval",
      "AutofillEnablePrefetchingRiskDataForRetrieval",
      "AutofillEnableSyncingOfLoyaltyCards",
      "AutofillEnableCardBenefitsForAmericanExpress",
      "AutofillEnableCardBenefitsForBmo",
      "AutofillEnableFlatRateCardBenefitsFromCurinos",
      "AutofillEnableBuyNowPayLaterForKlarna",
      "AutofillEnableSupportForHomeAndWork",
      "AutofillEnableSupportForNameAndEmailProfile",
      "SyncAutofillWalletCredentialData",
      "ShoppingAlternateServer",
      "AutofillEnableAmountExtraction",
      "AutofillEnableBuyNowPayLater",
      "AutofillEnableBuyNowPayLaterForExternallyLinked",
      "AutofillEnableBuyNowPayLaterSyncing",
      "AutofillEnableCardBenefitsIph",
      "AutofillEnableDownstreamCardAwarenessIph",
      "PerplexityAutoupdate",
      "ChromeWebStoreNavigationThrottle",
      "FeedbackIncludeVariations",
      "OptimizationGuideDebugLogs",
      "OptimizationGuideEnableDogfoodLogging",
      "DataSharingDebugLogs",
      "EnableNetworkLoggingToFile",
      "ProtectedAudienceDebugToken",
      "ProfileSignalsReportingEnabled",
      "VariationsSeedCorpus",
      "WindowsSystemTracing",
      "DataSharing",
      "PageContentAnnotations",
      "MediaRouterCastAllowAllIps",
      "EnableCrossDevicePrefTracker",
      "MediaRouter",
      "EnableNtpBrowserPromos",
      "NtpDriveModuleNoSyncRequirement",
      "MobilePromoOnDesktop",
      "NtpCustomizeChromeAutoOpen",
      "NtpMicrosoftAuthenticationModule",
      "NtpModuleSignInRequirement",
      "NtpNextFeatures",
      "NtpOneGoogleBarAsyncBarParts",
      "NtpRealboxNext",
      "NtpSearchboxComposeEntrypoint",
      "NtpTabGroupsModule",
      "NtpTabGroupsModuleZeroState",
      "AutoPictureInPictureForVideoPlayback",
      "BrowserInitiatedAutomaticPictureInPicture",
      "VideoPictureInPictureControlsUpdate2024",
      "PdfSaveToDrive",
      "ReadAnythingDocsIntegration",
      "ReadAnythingDocsLoadMoreButton",
      "SRIMessageSignatureEnforcement",
      "SafeBrowsing",
      "SafeBrowsingDeepScanning",
      "AsyncDns",
      "BrowsingTopics",
      "FirstPartySets",
      "Fledge",
      "PrivacySandboxSettings4",
      "AttributionReportingCrossAppWeb",
      "ShoppingList",
      "SideSearch",
      "GoogleSearchSidePanel",
      "SharedClipboard",
      "ClickToCall",
      "PasswordLeakDetection",
      "PasswordSharing",
      "NetworkPrediction",
      "DesktopSharingHub",
      "CloudPrintProxyPolicy",
      "BackgroundMode",
      "NTPCardsVisible",
      "NTPMiddleSlotAnnouncementVisible",
      "ChromeVariations",
      "ComponentUpdater",
      "WPADQuickCheck",
      "DNSInterceptionChecks",
      "BrowserNetworkTimeQueries",
      "PromotionalTabsEnabled",
      "HappinessTrackingSurveysForDesktopSettings",
      "HappinessTrackingSurveysForDesktopSettingsPrivacy",
      "HappinessTrackingSurveysForDesktopPrivacyGuide",
      "HappinessTrackingSurveysForSecurityPage",
      "SafeBrowsingSurveysEnabled",
      "SigninInterceptSimpleButtons",
      "BuiltInAIAPI",
      "HistorySearch",
      "TabCompare",
      "HelpMeWrite",
      "MetricsReporting",
      "UkmReduceAddEntryIPC",
      "LensOverlay",
      "NtpOutlookCalendarModule",
      "NtpSharepointModule",
      "AutofillAi",
      "AiModeOmniboxEntryPoint",
      "OmniboxAllowAiModeMatches",
      "AimServerEligibility",
      "WebUiOmniboxAimPopup",
      "PromptApiForGeminiNano",
      "SummarizationApiForGeminiNano",
      "WriterApiForGeminiNano",
      "RewriterApiForGeminiNano",
      "ProofreaderApiForGeminiNano"
    ]
  },
  "extensions": {
    "check_updates": true,
    "sources": ["perplexity", "comet_web_resources", "agents"],
    "patch_config": {
      "perplexity": {
        "manifest_additions": {
          "declarative_net_request": {
            "rule_resources": [{
              "id": "meteor_telemetry",
              "enabled": true,
              "path": "rules/telemetry.json"
            }]
          },
          "content_scripts": [
            {
              "matches": [
                "https://www.perplexity.ai/*",
                "https://perplexity.ai/*"
              ],
              "js": ["content/content-script.js"],
              "run_at": "document_start",
              "world": "MAIN",
              "all_frames": true
            },
            {
              "matches": ["chrome://extensions/*", "comet://extensions/*"],
              "js": ["content/extensions-page.js"],
              "run_at": "document_idle"
            }
          ]
        },
        "service_worker_import": "meteor-prefs.js",
        "copy_files": {
          "meteor-prefs.js": "perplexity/meteor-prefs.js",
          "rules/telemetry.json": "perplexity/telemetry.json",
          "content/content-script.js": "perplexity/content-script.js",
          "content/extensions-page.js": "perplexity/extensions-page.js"
        }
      }
    }
  },
  "pak_modifications": {
    "enabled": true,
    "modifications": [
      {
        "pattern": "\\[BooleanFlags\\.REPORT_OMNIBOX_TEXT\\]:\\s*true",
        "replacement": "[BooleanFlags.REPORT_OMNIBOX_TEXT]: false",
        "description": "Disable omnibox text reporting"
      },
      {
        "pattern": "\\[NumericFlags\\.SEND_VISITED_URLS_EVENT_INTERVAL_MINS\\]:\\s*\\d+",
        "replacement": "[NumericFlags.SEND_VISITED_URLS_EVENT_INTERVAL_MINS]: 0",
        "description": "Disable URL visit reporting"
      },
      {
        "pattern": "https://www\\.perplexity\\.ai/rest/event/analytics",
        "replacement": "https://localhost:1/blocked",
        "description": "Redirect analytics endpoint to localhost"
      },
      {
        "pattern": "window\\.PERPLEXITY_JS_SENTRY_DSN\\s*\\?\\?\\s*\"\"",
        "replacement": "\"\" ?? \"\"",
        "description": "Empty Sentry DSN"
      }
    ]
  },
  "ublock": {
    "enabled": true,
    "extension_id": "cjpalhdlnbpafiamejdnhcphjbkeiagm",
    "defaults": {
      "userSettings": {
        "advancedUserEnabled": true,
        "externalLists": "https://filters.adtidy.org/extension/ublock/filters/3.txt\nhttps://gitflic.ru/project/magnolia1234/bypass-paywalls-clean-filters/blob/raw?file=bpc-paywall-filter.txt\nhttps://malware-filter.gitlab.io/pup-filter/pup-filter.txt\nhttps://raw.githubusercontent.com/DandelionSprout/adfilt/master/BrowseWebsitesWithoutLoggingIn.txt\nhttps://raw.githubusercontent.com/DandelionSprout/adfilt/master/ClearURLs%20for%20uBo/clear_urls_uboified.txt\nhttps://raw.githubusercontent.com/DandelionSprout/adfilt/master/LegitimateURLShortener.txt\nhttps://raw.githubusercontent.com/liamengland1/miscfilters/master/antipaywall.txt",
        "importedLists": [
          "https://filters.adtidy.org/extension/ublock/filters/3.txt",
          "https://gitflic.ru/project/magnolia1234/bypass-paywalls-clean-filters/blob/raw?file=bpc-paywall-filter.txt",
          "https://malware-filter.gitlab.io/pup-filter/pup-filter.txt",
          "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/BrowseWebsitesWithoutLoggingIn.txt",
          "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/ClearURLs%20for%20uBo/clear_urls_uboified.txt",
          "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/LegitimateURLShortener.txt",
          "https://raw.githubusercontent.com/liamengland1/miscfilters/master/antipaywall.txt"
        ],
        "popupPanelSections": 63,
        "suspendUntilListsAreLoaded": true,
        "userFiltersTrusted": true
      },
      "selectedFilterLists": [
        "user-filters",
        "ublock-filters",
        "ublock-badware",
        "ublock-privacy",
        "ublock-quick-fixes",
        "ublock-unbreak",
        "ublock-experimental",
        "easylist",
        "adguard-generic",
        "adguard-mobile",
        "easyprivacy",
        "adguard-spyware-url",
        "urlhaus-1",
        "curben-phishing",
        "plowe-0",
        "dpollock-0",
        "fanboy-cookiemonster",
        "ublock-cookies-easylist",
        "adguard-cookies",
        "ublock-cookies-adguard",
        "fanboy-social",
        "adguard-social",
        "fanboy-thirdparty_social",
        "fanboy-ai-suggestions",
        "easylist-chat",
        "easylist-newsletters",
        "easylist-notifications",
        "easylist-annoyances",
        "adguard-mobile-app-banners",
        "adguard-other-annoyances",
        "adguard-popup-overlays",
        "adguard-widgets",
        "ublock-annoyances",
        "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/LegitimateURLShortener.txt",
        "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/BrowseWebsitesWithoutLoggingIn.txt",
        "https://filters.adtidy.org/extension/ublock/filters/3.txt",
        "https://raw.githubusercontent.com/liamengland1/miscfilters/master/antipaywall.txt",
        "https://gitflic.ru/project/magnolia1234/bypass-paywalls-clean-filters/blob/raw?file=bpc-paywall-filter.txt",
        "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/ClearURLs%20for%20uBo/clear_urls_uboified.txt",
        "https://malware-filter.gitlab.io/pup-filter/pup-filter.txt"
      ],
      "whitelist": [],
      "dynamicFilteringString": "behind-the-scene * * noop\nbehind-the-scene * inline-script noop\nbehind-the-scene * 1p-script noop\nbehind-the-scene * 3p-script noop\nbehind-the-scene * 3p-frame noop\nbehind-the-scene * image noop\nbehind-the-scene * 3p noop",
      "hostnameSwitchesString": "no-large-media: behind-the-scene false\nno-csp-reports: * true",
      "urlFilteringString": "extensions.chrome-scheme https://m.stripe.com xmlhttprequest block\nnewtab.chrome-scheme https://m.stripe.com xmlhttprequest block\nnewtab.chrome-scheme https://m.stripe.com/6 xmlhttprequest block\nnewtab.chrome-scheme https://m.stripe.network sub_frame block\nwww.perplexity.ai https://m.stripe.com xmlhttprequest block\nwww.perplexity.ai https://m.stripe.com/6 xmlhttprequest block\nwww.perplexity.ai https://m.stripe.network sub_frame block\nwww.perplexity.ai https://m.stripe.network/inner.html sub_frame block",
      "userFilters": "! ====== METEOR TELEMETRY BLOCKING ======\n! DataDog RUM (Real User Monitoring)\n||browser-intake-datadoghq.com^$all\n! Singular Analytics API (SDK loads but can't send data)\n||sdk-api-v1.singular.net^$all\n! Eppo Feature Flags\n||fscdn.eppo.cloud^$all\n||fs-edge-assignment.eppo.cloud^$all\n! Perplexity Internal Telemetry\n||irontail.perplexity.ai^$all\n||perplexity.ai/rest/event/analytics$all\n||perplexity.ai/cdn-cgi/trace$all\n||perplexity.ai/rest/attribution$xmlhttprequest\n||perplexity.ai/rest/homepage-widgets/upsell/interacted$xmlhttprequest\n||perplexity.ai/rest/ntp/upsell/interacted$xmlhttprequest\n||perplexity.ai/rest/autosuggest/track-query-clicked$xmlhttprequest\n||perplexity.ai/rest/live-events/subscription$xmlhttprequest\n||perplexity.ai/pixel/$script,domain=www.perplexity.ai|perplexity.ai\n! Intercom\n||perplexity.ai/api/intercom$xmlhttprequest\n! Mixpanel\n||api.mixpanel.com^$all\n! Sentry\n||*.ingest.sentry.io^$all\n||*.ingest.us.sentry.io^$all\n! Merge.dev\n||ah-cdn.merge.dev/$subdocument,domain=www.perplexity.ai|perplexity.ai\n||ah-cdn.merge.dev/$script,domain=www.perplexity.ai|perplexity.ai\n! ====== STRIPE (Perplexity-specific) ======\n||js.stripe.com/v3/$subdocument,domain=www.perplexity.ai|perplexity.ai\n||js.stripe.com/v3/$script,domain=www.perplexity.ai|perplexity.ai\n||m.stripe.com$xmlhttprequest,domain=www.perplexity.ai|perplexity.ai\n||m.stripe.network$sub_frame,domain=www.perplexity.ai|perplexity.ai"
    }
  },
  "adguard_extra": {
    "enabled": true,
    "extension_id": "gkeojjjcdcopjkbelgbcpckplegclfeg"
  },
  "paths": {
    "patched_extensions": "./patched_extensions",
    "ublock": "./patched_extensions/ublock-origin",
    "adguard_extra": "./patched_extensions/adguard-extra",
    "state_file": "./.meteor/state.json",
    "patches": "./patches"
  }
}
